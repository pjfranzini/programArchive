Test.expect(update([[0,0,0],[0,0,0],[0,0,0]],0,0,1) == [[[1,0,0],[0,0,0],[0,0,0]],5])
Test.expect(update([[0,0,0],[1,0,0],[0,0,0]],1,0,1) == "Try again  -- invalid position")
Test.expect(update([[0,1,0],[0,0,3],[2,0,0]],0,2,4) == [[[0,1,4],[0,0,3],[2,0,0]],500])
Test.expect(update([[0,0,0],[0,0,0],[0,2,0]],2,1,1) == "Try again  -- invalid position")
Test.expect(update([[0,0,0],[0,0,0],[0,2,0]],3,1,1) == "Try again  -- invalid position")
Test.expect(update([[0,0,0],[0,0,0],[0,2,0]],1,3,1) == "Try again  -- invalid position")
Test.expect(update([[0,0,0],[0,0,0],[0,0,0]],0,0,7) == "Try again  -- invalid piece")
Test.expect(update([[0,0,0],[0,0,0],[0,0,0]],4,4,7) == "Try again  -- invalid position")
Test.expect(update([[1,1,1],[1,1,1],[1,1,1]],0,0,1) == "Game over -- board full")
Test.expect(update([[0,1,1],[1,1,1],[1,1,1]],0,0,2) == [[[2,1,1],[1,1,1],[1,1,1]],20,"Game over -- board full"])
Test.expect(update([[0,1,1],[1,1,1],[1,1,1]],0,0,1) == [[[2,0,0],[0,0,0],[0,0,0]],20])
Test.expect(update([[0,0,1],[0,1,0],[0,0,0]],1,2,1) ==
                  [[[0,0,0],[0,0,2],[0,0,0]],20])
Test.expect(update([[0,0,1],[0,0,0],[0,0,0]],1,2,1) ==
                  [[[0,0,1],[0,0,1],[0,0,0]],5])
Test.expect(update([[1,0,0],[0,0,3],[0,2,0],[0,2,0]],3,2,2) ==
                  [[[1,0,0],[0,0,3],[0,0,0],[0,0,3]],100])
Test.expect(update([[1,0,0],[0,0,2],[2,2,0],[0,0,0]],3,2,2) ==
                  [[[1,0,0],[0,0,2],[2,2,0],[0,0,2]],20])
Test.expect(update([[1,0,0],[0,0,2],[2,2,0],[0,0,0]],2,2,2) ==
                  [[[1,0,0],[0,0,0],[0,0,3],[0,0,0]],100])
Test.expect(update([[1,0,2,1,3],[2,2,0,2,0],[4,1,0,0,2],[1,0,3,3,0],[2,2,0,2,2],[0,0,2,0,0]],0,1,1) ==
                  [[[1,1,2,1,3],[2,2,0,2,0],[4,1,0,0,2],[1,0,3,3,0],[2,2,0,2,2],[0,0,2,0,0]],5])
Test.expect(update([[1,0,2,1,3],[2,2,0,2,0],[4,1,0,0,2],[1,0,3,3,0],[2,2,0,2,2],[0,0,2,0,0]],0,1,2) ==
                  [[[1,3,0,1,3],[0,0,0,2,0],[4,1,0,0,2],[1,0,3,3,0],[2,2,0,2,2],[0,0,2,0,0]],100])
Test.expect(update([[1,0,2,1,3],[2,2,0,2,0],[4,1,0,0,2],[1,0,3,3,0],[2,2,0,2,2],[0,0,2,0,0]],1,2,2) ==
                  [[[1,0,0,1,3],[0,0,3,0,0],[4,1,0,0,2],[1,0,3,3,0],[2,2,0,2,2],[0,0,2,0,0]],100])
#double cascade:
Test.expect(update([[1,0,2,1,3],[2,2,0,2,0],[4,1,0,0,2],[1,0,3,3,0],[2,2,0,2,2],[0,0,2,0,0]],3,1,1) ==
                  [[[1,0,2,1,3],[2,2,0,2,0],[4,0,0,0,2],[0,4,0,0,0],[0,0,0,2,2],[0,0,2,0,0]],620])
#single cascade:
Test.expect(update([[1,0,2,1,3],[2,2,0,2,0],[4,1,0,0,2],[1,0,0,0,0],[2,2,0,2,2],[0,0,2,0,0]],3,1,1) ==
                  [[[1,0,2,1,3],[2,2,0,2,0],[4,0,0,0,2],[0,3,0,0,0],[0,0,0,2,2],[0,0,2,0,0]],120])
#single cascade:
Test.expect(update([[1,0,0,1],[0,1,0,1],[2,2,0,0],[4,0,3,0]],1,0,1) ==
                  [[[0,0,0,1],[3,0,0,1],[0,0,0,0],[4,0,3,0]],120])
Test.expect(update([[1,0,0,1],[0,1,0,1],[2,2,0,0],[4,0,3,0]],0,1,1) ==
                  [[[0,2,0,1],[0,0,0,1],[2,2,0,0],[4,0,3,0]],20])
#double cascade:
Test.expect(update([[3,3,4,4],[1,0,2,0],[0,1,2,0]],1,1,1) ==
                  [[[0,0,4,4],[0,4,0,0],[0,0,0,0]],620])
#triple cascade:
Test.expect(update([[0,3,3,0],[4,4,0,2],[0,1,1,2]],1,2,1) ==
                  [[[0,0,0,0],[0,0,5,0],[0,0,0,0]],2120])
#ends at 5
Test.expect(update([[1,0,0,1],[2,3,2,0],[4,4,0,0]],2,2,4) ==
                  [[[1,0,0,1],[2,3,2,0],[0,0,5,0]],1500])
Test.expect(update([[1,0,0,1],[2,3,2,0],[5,5,0,0]],2,2,5) ==
                  [[[1,0,0,1],[2,3,2,0],[5,5,5,0]],1500])
Test.expect(update([[0,4,4,0],[5,5,0,3],[0,2,2,3]],1,2,2) ==
                  [[[0,0,0,0],[5,5,5,0],[0,0,0,0]],2100])
Test.expect(update([[5,5,4],[0,0,4],[3,3,0]],1,1,3) ==
                  [[[5,5,0],[0,5,0],[0,0,0]],2000])